<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <title>Hello, world!</title>

    <link rel="stylesheet" href="style.css">
  </head>
  <body class="container">
    <div>
        <div class="tampilan">
            <header>
                <h2 style="font-family: goodmorning; color: white; font-size: 35px;">Sewa Sepeda? Di Sewain Aja</h2>
            </header>
        </div>

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                  <li class="nav-item active">
                    <a class="nav-link" href="Tugas.html">Beranda<span class="sr-only">(current)</span></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="detail.html">Detail</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="profil.html">Tentang</a>
                  </li>
                </ul>
            </div>
        </nav>
    </div>

    <div class="clr">
      <br>
      <h4 style="margin-left: 20px;">Syarat & Ketentuan Sewa</h4>
      <ol>
        <ul>
          <li>Sebelum menyewa, isi Form terlebih dahulu</li>
          <li>Jaminan dengan tanda pengenal(KTP/KK/Kartu Pelajar,dll)</li>
          <li>Apabila sepeda dikembalikan, lebih dari jam sewa maka akan dikenakan biaya tambahan</li>
          <li>Bertanggung jawab apabila terjadi kerusakan, pada saat produk disewa</li>
          <li>Warna dan ketersediaan tipe sepeda dapat berubah sewaktu-waktu</li><br>
        </ul>
      </ol>
    </div>

    <div>
      <div class="row row-cols-1 row-cols-md-3">
        <div class="col mb-4">
          <div class="card h-100">
            <img src="sepeda1.jpg" class="card-img-top" width="25px" alt="..." height="220">
            <div class="card-body">
              <h5 class="card-title">Kode A2440</h5>
              <p class="card-text">Sepeda minim untuk perempuan
                Dilengkapi dengan keranjang dan kursi bonceng dibelakang
              </p>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card h-100">
            <img src="sepeda7.jpg" class="card-img-top" width="20px" alt="..." height="250">
            <div class="card-body">
              <h5 class="card-title">Kode B450</h5>
              <p class="card-text">Sepeda mini
                untuk anak kecil umur 4-6thn
                Dilengkapi roda 2 dibelakang
              </p>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card h-100">
            <img src="sepeda2.jpg" class="card-img-top" width="15px" alt="..." height="220">
            <div class="card-body">
              <h5 class="card-title">Kode BX280</h5>
              <p class="card-text">Sepeda BMX
                Ukuran sedang untuk umur 7-10thn
                Dengan rem tangan.
              </p>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card h-100">
            <img src="sepeda3.jpg" class="card-img-top" width="15px" alt="..." height="200">
            <div class="card-body">
              <h5 class="card-title">Kode GN250</h5>
              <p class="card-text">Sepeda BMX
                Ukuran sedang untuk umur 7-10thn
                Dengan rem tangan.
              </p>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card h-100">
            <img src="sepeda4.jpg" class="card-img-top" width="20px" alt="..." height="200">
            <div class="card-body">
              <h5 class="card-title">Kode ZY78</h5>
              <p class="card-text">Sepeda Lipat
                Dilengkapi kursi bonceng dibelakang.
                Kapasitas 2 orang.
                </p>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card h-100">
            <img src="sepeda5.jpg" class="card-img-top" width="20px" alt="..." height="200">
            <div class="card-body">
              <h5 class="card-title">Kode NM240</h5>
              <p class="card-text">Sepeda Gandeng
                Sepeda Tandem atau Sepeda Gandeng adalah bentuk sepeda yang dirancang 
                untuk dikendarai oleh lebih dari satu orang.
                </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="body">
      <div class="card-header text-white text-center mt-4" style="background-color: brown; font-size: 20px;"><b>Formulir Data</b></div><br>
      <div class="form">
        <div class="form-group row">
          <label for="namacs" class="col-sm-5 col-form-label">Nama Customer</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="nama">
          </div>
        </div>

        <div class="form-group row">
          <label for="teleponcs" class="col-sm-4 col-form-label">No Telepon</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="telepon">
          </div>
        </div>

        <div class="form-group row">
          <label for="jenissewa" class="col-sm-4 col-form-label">Jenis Sepeda</label>
          <div class="col-sm-10">
            <select class="form-control" id="jenis">
              <option>Choose...</option>
              <option>Kode A2440</option>
              <option>Kode B450</option>
              <option>Kode BX280</option>
              <option>Kode GN250</option>
              <option>Kode ZY78</option>
              <option>Kode NM240</option>
          </select>
          </div>
        </div>

        <div class="form-group row">
          <label for="tanggalsewa" class="col-sm-4 col-form-label">Tanggal Sewa</label>
          <div class="col-sm-10">
            <input type="date" class="form-control" id="tanggal">
          </div>
        </div>

        <div class="form-group row">
          <label for="jamsewa" class="col-sm-4 col-form-label">Lama Sewa</label>
          <div class="col-sm-10">
            <select class="form-control" id="jam">
              <option>Choose...</option>
              <option>1 Jam</option>
              <option>2 Jam</option>
              <option>3 Jam</option>
              <option>4 Jam</option>
          </select>
          </div>
        </div>

        <div class="form-group row">
          <label for="jumlahsewa" class="col-sm-4 col-form-label">Jumlah Sewa</label>
          <div class="col-sm-10">
            <input type="number" class="form-control" id="jumlah">
          </div>
        </div>

        <div class="form-group row">
          <label for="hargasewa" class="col-sm-4 col-form-label">Harga Sewa</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="harga">
          </div>
        </div>

        <button class="btn btn-primary mt-2" onclick="hrgsewa()">Hitung Sewa</button><br><br>

        <div class="form-group row">
          <label for="url" class="col-sm-4 col-form-label">Total Bayar</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="bayar">
          </div>
        </div>

        <button class="btn btn-primary mb-3" type="button" onclick="add()" id="button1">Simpan</button>
        <button class="btn btn-success mb-3" type="button" onclick="simpanEdit()" id="button2">Update</button>
    </div>

    <div class="tabel">
      <table class="table table-bordered mt-4">
        <thead>
          <tr style="background-color: brown; color: white;">
            <th scope="col">No</th>
            <th scope="col">Nama Customer</th>
            <th scope="col">No Telepon</th>
            <th scope="col">Jenis Sewa</th>
            <th scope="col">Tanggal Sewa</th>
            <th scope="col">Lama Sewa</th>
            <th scope="col">Jumlah Sewa</th>
            <th scope="col">Harga Sewa</th>
            <th scope="col">Total Bayar</th>
            <th scope="col">Modify</th>
          </tr>
        </thead>
        <tbody id="tampildata">
          
        </tbody>
    </table>
    </div>
    </div>

    <script>
        var namacs = []
        var teleponcs= []
        var jenissewa = []
        var tanggalsewa = []
        var jamsewa = []
        var jumlahsewa = []
        var hargasewa = []
        var totalbayar = []

        var namacus = document.getElementById("nama").value
        if (namacus == "") {
            document.getElementById("button1").style.display = "inline"
            document.getElementById("button2").style.display = "none"
        }

        var tampil = document.getElementById('tampildata')

        function showData() {
            tampil.innerHTML = ""
            
            for(i = 0;i < namacs.length; i++) {
              var nodata = i+1;

                tampil.innerHTML += "<tr>" +
                    "<th>" + nodata + "</th>" +
                    "<td>" + namacs[i] + "</td>" +
                    "<td>" + teleponcs[i] + "</td>" +
                    "<td>" + jenissewa[i] + "</td>" +
                    "<td>" + tanggalsewa[i] + "</td>" +
                    "<td>" + jamsewa[i] + "</td>" +
                    "<td>" + jumlahsewa[i] + "</td>" +
                    "<td>" + hargasewa[i] + "</td>" +
                    "<td>" + totalbayar[i] + "</td>" +
                    "<td>" +
                    "<button class='btn btn-warning' onclick='edit(" + i + ")'>Edit</button>" +
                    "<button class='btn btn-danger' onclick='hapus(" + i + ")'>Hapus</button>" +
                    "</td>" +
                    "</tr>"
            }
        }

        showData()

        function add() {
            var namabaru = document.getElementById('nama').value
            var teleponbaru = document.getElementById('telepon').value
            var jenisbaru = document.getElementById('jenis').value
            var tanggalbaru = document.getElementById('tanggal').value
            var jambaru = document.getElementById('jam').value
            var jumlahbaru = document.getElementById('jumlah').value
            var hargabaru = document.getElementById('harga').value
            var totalbaru = document.getElementById('bayar').value

            namacs.push(namabaru)
            teleponcs.push(teleponbaru)
            jenissewa.push(jenisbaru)
            tanggalsewa.push(tanggalbaru)
            jamsewa.push(jambaru)
            jumlahsewa.push(jumlahbaru)
            hargasewa.push(hargabaru)
            totalbayar.push(totalbaru)

            showData()
            document.getElementById('nama').value = ""
            document.getElementById('telepon').value = ""
            document.getElementById('jenis').value = ""
            document.getElementById('tanggal').value = ""
            document.getElementById('jam').value = ""
            document.getElementById('jumlah').value = ""
            document.getElementById('harga').value = ""
            document.getElementById('bayar').value = ""
        }

        function hapus(id) {
            namacs.splice(id,1)
            teleponcs.splice(id,1)
            jenissewa.splice(id,1)
            tanggalsewa.splice(id,1)
            jamsewa.splice(id,1)
            jumlahsewa.splice(id,1)
            hargasewa.splice(id,1)
            totalbayar.splice(id,1)

            showData();
        }


        var index = []
        function edit(i) {
            document.getElementById('nama').value = namacs[i]
            document.getElementById('telepon').value = teleponcs[i]
            document.getElementById('jenis').value = jenissewa[i]
            document.getElementById('tanggal').value = tanggalsewa[i]
            document.getElementById('jam').value = jamsewa[i]
            document.getElementById('jumlah').value = jumlahsewa[i]
            document.getElementById('harga').value = hargasewa[i]
            document.getElementById('bayar').value = ""

            document.getElementById("button1").style.display = "none"
            document.getElementById("button2").style.display = "inline"
            index.push(i)
        }

        function simpanEdit() {
            var namabaru = document.getElementById('nama').value
            var teleponbaru = document.getElementById('telepon').value
            var jenisbaru = document.getElementById('jenis').value
            var tanggalbaru = document.getElementById('tanggal').value
            var jambaru = document.getElementById('jam').value
            var jumlahbaru = document.getElementById('jumlah').value
            var hargabaru = document.getElementById('harga').value
            var totalbaru = document.getElementById('bayar').value

            namacs[index] = namabaru
            teleponcs[index] = teleponbaru
            jenissewa[index] = jenisbaru
            tanggalsewa[index] = tanggalbaru
            jamsewa[index] = jambaru
            jumlahsewa[index] = jumlahbaru
            hargasewa[index] = hargabaru
            totalbayar[index] = totalbaru

            showData()
            index.pop()
            document.getElementById('nama').value = ""
            document.getElementById('telepon').value = ""
            document.getElementById('jenis').value = ""
            document.getElementById('tanggal').value = ""
            document.getElementById('jam').value = ""
            document.getElementById('jumlah').value = ""
            document.getElementById('harga').value = ""
            document.getElementById('bayar').value = ""
            document.getElementById("button1").style.display = "inline"
            document.getElementById("button2").style.display = "none"
        }

        function hrgsewa() {
          var form = document.namacs;
          var jumlah = parseInt(document.getElementById('jumlah').value);
          var harga = parseInt(document.getElementById('harga').value);

          var bayar = document.getElementById('bayar');

          var diskon;
          if (jumlah >= 4) {
            diskon = 0.5 * harga * jumlah;
          } else if (jumlah >= 2) {
            diskon = 0.2 * harga * jumlah;
          } else {
            diskon = 0
          }

          var total_harga = jumlah * harga;
          var harga = total_harga - diskon;

          bayar.value = harga;
        }
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  </body>
</html>